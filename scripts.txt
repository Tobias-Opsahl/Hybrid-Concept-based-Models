scripts to run remotely

module load Python/3.9.5-GCCcore-10.3.0
source myenv/bin/activate
module load Python/3.9.5-GCCcore-10.3.0

Transfer python files (go to TobiasaoThesis/ locally):

tar -czvf project_files.tar.gz src/ src/common/ src/datasets/ src/models/ run_shapes.py run_cub.py run_make_datasets_shapes.py
scp -v -J tobiasao@login.uio.no project_files.tar.gz tobiasao@ml1.hpc.uio.no:TobiasaoThesis/
tar -xzvf project_files.tar.gz

scp -v -J tobiasao@login.uio.no src/evaluation.py tobiasao@ml1.hpc.uio.no:TobiasaoThesis/src/


# Copy over dataset:
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c15_a9_s100/ ./data/shapes/shapes_1k_c15_a9_s100/

# From local to remote
scp -v -r -J tobiasao@login.uio.no src/hyperparameter_optimization_cub.py tobiasao@ml1.hpc.uio.no:TobiasaoThesis/src/hyperparameter_optimization_cub.py
# FARLIG!! scp -v -r -J tobiasao@login.uio.no results/hyperparameters/cub/*.yaml tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/hyperparameters/cub/
scp -v -r -J tobiasao@login.uio.no results/hyperparameters/shapes/*.yaml tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/hyperparameters/shapes/
scp -v -r -J tobiasao@login.uio.no results/hyperparameters/remote_grid_search/shapes/*_s98/ tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/hyperparameters/shapes/
scp -v -r -J tobiasao@login.uio.no results/history/remote_grid_search_s100_history/shapes/ tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/history/shapes/
scp -v -r -J tobiasao@login.uio.no results/plots/remote_grid_search_s100_plots/shapes/ tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/plots/shapes/


# Shapes Copy over results (hyperparameters, plots and histories):
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/saved_models/cub/cbm_full_loss.pth ./results/saved_models/cub/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/hyperparameters/cub/ ./results/hyperparameters/remote_cub6_hyperparameters/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/hyperparameters/shapes/ ./results/hyperparameters/remote_shapes_final_hyperparameters/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/plots/shapes/ ./results/plots/remote_shapes_final_plots/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/history/ ./results/history/remote_final_history/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/plots/cub/ ./results/plots/remote_cub6.6_plots/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/history/cub/ ./results/history/remote_cub6.6_history/ 
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/plots/ ./results/plots/remote_grid_search_s100_plots/  
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/history/ ./results/history/remote_grid_search_all_history/  

scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/adversarial/ ./results/adversarial/remote_adversarial1/  


# Cub copy over results
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/plots/cub/ ./results/plots/remote_cub1_plots/
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/results/history/cub/ ./results/history/remote_cub1_history/  


# Fast:
python run_cub.py --fast --n_trials 1 --run_hyperparameters --evaluate_and_plot --subsets 1 --n_bootstrap 1 --bootstrap_checkpoints 1 --hard_bottleneck --logging_level debug
python run_cub.py --fast --evaluate_and_plot --subsets 30 --n_bootstrap 1 --bootstrap_checkpoints 1 --logging_level debug
python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --fast --evaluate_and_plot --n_bootstrap 1 --bootstrap_checkpoints 1 --models oracle
python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --evaluate_and_plot --n_bootstrap 2 --hard_bottleneck --logging_level debug --fast --bootstrap_checkpoints 1,2
python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --fast --evaluate_and_plot --n_bootstrap 2 --hard_bottleneck --bootstrap_checkpoints 1,2
python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --n_trials 2 --fast --evaluate_and_plot --n_bootstrap 1 --hard_bottleneck --run_hyperparameters
python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50 --n_bootstrap 1 --bootstrap_checkpoints 1 --logging_level debug




a5 s98 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c10_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c15_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c21_a5_s98_b10_eval.txt &

HARD_BOTTLENECK a5 s98 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c10_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c15_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c21_a5_s98_b10_eval.txt &


a5 s98 hyperparam
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c10_a5_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c15_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c15_a5_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c21_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c21_a5_s98_sub2_grid_search.txt &

HARD_BOTTLENECK a5 s98 hyperparam
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a5_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c15_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c15_a5_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c21_a5_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c21_a5_s98_sub2_grid_search.txt &



a5 s100 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c10_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c15_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c21_a5_s100_b10_eval.txt &

HARD_BOTTLENECK a5 s100 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c10_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c15_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c21_a5_s100_b10_eval.txt &

a5 s100 hyperparam
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c10_a5_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c15_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c15_a5_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c21_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c21_a5_s100_sub2_grid_search.txt &

HARD-BOTTLENECK a5 s100 hyperparam
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a5_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c15_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c15_a5_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c21_a5_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c21_a5_s100_sub2_grid_search.txt &







a9 s98 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c10_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c15_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c21_a9_s98_b10_eval.txt &

HARD_BOTTLENECK a9 s98 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c10_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c15_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c21_a9_s98_b10_eval.txt &

a9 s98 hyperparam
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c15_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c15_a9_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 50,150,200 &> logs/c21_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --run_hyperparameters --subsets 100,250 &> logs/c21_a9_s98_sub2_grid_search.txt &

HARD-BOTTLENECK a9 s98 hyperparam
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c15_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c15_a9_s98_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c21_a9_s98_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c21_a9_s98_sub2_grid_search.txt &




a9 s100 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c10_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c15_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all &> logs/c21_a9_s100_b10_eval.txt &

HARD_BOTTLENECK a9 s100 only evaluate n-boot 10: sub50, 100, 150, 200, 250
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c10_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c15_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --evaluate_and_plot --subsets 50,100,150,200,250 --n_bootstrap 10 --models all --hard_bottleneck &> logs/hard_c21_a9_s100_b10_eval.txt &


a9 s100 hyperparam
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c15_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c15_a9_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 50,150,200 &> logs/c21_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --run_hyperparameters --subsets 100,250 &> logs/c21_a9_s100_sub2_grid_search.txt &

HARD a9 s100 hyperparam
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c15_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c15_a9_s100_sub2_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c21_a9_s100_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c21_a9_s100_sub2_grid_search.txt &



CUDA_VISIBLE_DEVICES=6 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=6 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s98_b10_eval.txt &

CUDA_VISIBLE_DEVICES=6 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=6 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s100_b10_eval.txt &


Shapes s50

nohup python run_make_datasets_shapes.py &> logs/make_signal_datasets.txt &
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c10_a9_s50/ ./data/shapes/shapes_1k_c10_a9_s50/

Fast s50
python run_shapes.py --fast --n_classes 10 --n_attr 9 --signal_strength 50 --evaluate_and_plot --subsets 29 --n_bootstrap 1 --bootstrap_checkpoints 1 --run_hyperparameters --n_trials 2

Evaluate s50
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s50_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s50_b10_eval.txt &

Hyperparam s50
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s50_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s50_sub2_grid_search.txt &

HARD-BOTTLENECK Hyperparam s50 
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s50_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s50_sub2_grid_search.txt &


Shapes s60

nohup python run_make_datasets_shapes.py &> logs/make_signal_datasets.txt &
scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c10_a9_s60/ ./data/shapes/shapes_1k_c10_a9_s60/

Fast s60
python run_shapes.py --fast --n_classes 10 --n_attr 9 --signal_strength 60 --evaluate_and_plot --subsets 29 --n_bootstrap 1 --bootstrap_checkpoints 1 --run_hyperparameters --n_trials 2

Evaluate s60
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s60_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s60_b10_eval.txt &

Hyperparam s60
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s60_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s60_sub2_grid_search.txt &

HARD-BOTTLENECK Hyperparam s60 
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s60_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s60_sub2_grid_search.txt &


Shapes s70

scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c10_a9_s70/ ./data/shapes/shapes_1k_c10_a9_s70/

Fast s70
python run_shapes.py --fast --n_classes 10 --n_attr 9 --signal_strength 70 --evaluate_and_plot --subsets 29 --n_bootstrap 1 --bootstrap_checkpoints 1 --run_hyperparameters --n_trials 2

Evaluate s70
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s70_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s70_b10_eval.txt &

Hyperparam s70
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s70_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s70_sub2_grid_search.txt &

HARD-BOTTLENECK Hyperparam s70 
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s70_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s70_sub2_grid_search.txt &


Shapes s80

scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c10_a9_s80/ ./data/shapes/shapes_1k_c10_a9_s80/

Fast s80
python run_shapes.py --fast --n_classes 10 --n_attr 9 --signal_strength 80 --evaluate_and_plot --subsets 29 --n_bootstrap 1 --bootstrap_checkpoints 1 --run_hyperparameters --n_trials 2

Evaluate s80
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s80_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s80_b10_eval.txt &

Hyperparam s80
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s80_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s80_sub2_grid_search.txt &

HARD-BOTTLENECK Hyperparam s80 
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s80_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s80_sub2_grid_search.txt &


Shapes s90

scp -v -r -J tobiasao@login.uio.no tobiasao@ml1.hpc.uio.no:TobiasaoThesis/data/shapes/shapes_1k_c10_a9_s90/ ./data/shapes/shapes_1k_c10_a9_s90/

Fast s90
python run_shapes.py --fast --n_classes 10 --n_attr 9 --signal_strength 90 --evaluate_and_plot --subsets 29 --n_bootstrap 1 --bootstrap_checkpoints 1 --run_hyperparameters --n_trials 2

Evaluate s90
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/c10_a9_s90_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --evaluate_and_plot --models all --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 --hard_bottleneck &> logs/hard_c10_a9_s90_b10_eval.txt &

Hyperparam s90
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --run_hyperparameters --subsets 50,150,200 &> logs/c10_a9_s90_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --run_hyperparameters --subsets 100,250 &> logs/c10_a9_s90_sub2_grid_search.txt &

HARD-BOTTLENECK Hyperparam s90 
CUDA_VISIBLE_DEVICES=0 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --run_hyperparameters --hard_bottleneck --subsets 50,150,200 &> logs/hard_c10_a9_s90_sub1_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --run_hyperparameters --hard_bottleneck --subsets 100,250 &> logs/hard_c10_a9_s90_sub2_grid_search.txt &




Run Oracles Shapes
s50-s90
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 50 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s50_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 60 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s60_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 70 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s70_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 80 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s80_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 90 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s90_b10_eval.txt &





s98 a5 Oracle
# Eval:
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c15_a5_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c21_a5_s98_b10_eval.txt &

# Plot:
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c10_a5_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c10_a5_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c15_a5_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c15_a5_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c21_a5_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c21_a5_s98_b10_plot.txt &


s98 a9 Oracle
# Eval:
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c15_a9_s98_b10_eval.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c21_a9_s98_b10_eval.txt &

# Plot:
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c10_a9_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c10_a9_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c15_a9_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c15_a9_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c21_a9_s98_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 98 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c21_a9_s98_b10_plot.txt &


s100 a5 Oracle
# Eval:
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c15_a5_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c21_a5_s100_b10_eval.txt &

# Plot:
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c10_a5_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c10_a5_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c15_a5_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c15_a5_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c21_a5_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 5 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c21_a5_s100_b10_plot.txt &


s100 a9 Oracle
# Eval:
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c10_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c15_a9_s100_b10_eval.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --evaluate_and_plot --models oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --bootstrap_checkpoints 1,3,5,10 &> logs/oracle_c21_a9_s100_b10_eval.txt &

# Plot:
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c10_a9_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 10 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c10_a9_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c15_a9_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 15 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c15_a9_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 &> logs/oracle_c21_a9_s100_b10_plot.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --signal_strength 100 --only_plot --models shapes --add_oracle --subsets 50,100,150,200,250 --n_bootstrap 10 --hard_bottleneck &> logs/hard_oracle_c21_a9_s100_b10_plot.txt &



CUB:

Evaluation sub 5,10,15,20,25,30 n_bootstrap 1
CUDA_VISIBLE_DEVICES=4 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 1 --bootstrap_checkpoints 1 --num_workers 4 --persistent_workers --pin_memory --non_blocking &> logs/cub_b1_eval.txt &

Evaluation sub 5,10,15,20,25,30 n_bootstrap 2
CUDA_VISIBLE_DEVICES=4 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 2 --bootstrap_checkpoints 1,2 --num_workers 4 --persistent_workers --pin_memory --non_blocking &> logs/cub_b2_eval.txt &

Evaluation sub 5,10,15,20,25,30 n_bootstrap 3
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 3 --bootstrap_checkpoints 1,2,3 --num_workers 2 --persistent_workers --pin_memory --non_blocking &> logs/cub_b3_eval.txt &

Evaluation sub 5,10,15,20,25,30 n_bootstrap 5
CUDA_VISIBLE_DEVICES=5 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 5 --bootstrap_checkpoints 1,3,5 --num_workers 2 --persistent_workers --pin_memory --non_blocking &> logs/cub_b5_eval.txt &

Hard Bottleneck Evaluation sub 5,10,15,20,25,30 n_bootstrap 5
CUDA_VISIBLE_DEVICES=6 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 5 --bootstrap_checkpoints 1,3,5 --num_workers 2 --persistent_workers --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_b5_eval.txt &


Hyperparameter search 
CUDA_VISIBLE_DEVICES=6 nohup python run_cub.py --run_hyperparameters --subsets 5 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_s5_grid_search.txt &
CUDA_VISIBLE_DEVICES=5 nohup python run_cub.py --run_hyperparameters --subsets 10 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_s10_grid_search.txt &
CUDA_VISIBLE_DEVICES=4 nohup python run_cub.py --run_hyperparameters --subsets 15 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_s15_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_cub.py --run_hyperparameters --subsets 20 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_s20_grid_search.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_cub.py --run_hyperparameters --subsets 25 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_s25_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --run_hyperparameters --subsets 30 --n_trials 50 --num_workers 2 --pin_memory --non_blocking &> logs/cub_full_grid_search.txt &


Hyperparameter search SCM only
CUDA_VISIBLE_DEVICES=6 nohup python run_cub.py --run_hyperparameters --subsets 5 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_s5_grid_search.txt &
CUDA_VISIBLE_DEVICES=5 nohup python run_cub.py --run_hyperparameters --subsets 10 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_s10_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_cub.py --run_hyperparameters --subsets 15 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_s15_grid_search.txt &
CUDA_VISIBLE_DEVICES=7 nohup python run_cub.py --run_hyperparameters --subsets 20 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_s20_grid_search.txt &
CUDA_VISIBLE_DEVICES=4 nohup python run_cub.py --run_hyperparameters --subsets 25 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_s25_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_cub.py --run_hyperparameters --subsets 30 --n_trials 50 --models scm --num_workers 2 --pin_memory --non_blocking &> logs/cub_scm_full_grid_search.txt &


CUB HARD bottleneck Evaluation sub 5,10,15,20,25,30 n_bootstrap 3
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --evaluate_and_plot --subsets 5,10,15,20,25,30 --n_bootstrap 3 --hard_bottleneck --num_workers 2 --persistent_workers --pin_memory --non_blocking &> logs/hard_cub_b3_eval.txt &


CUB HARD bottleneck Hyperparameter search 
CUDA_VISIBLE_DEVICES=0 nohup python run_cub.py --run_hyperparameters --subsets 5 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_s5_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --run_hyperparameters --subsets 10 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_s10_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_cub.py --run_hyperparameters --subsets 15 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_s15_grid_search.txt &
CUDA_VISIBLE_DEVICES=3 nohup python run_cub.py --run_hyperparameters --subsets 20 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_s20_grid_search.txt &
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --run_hyperparameters --subsets 25 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_s25_grid_search.txt &
CUDA_VISIBLE_DEVICES=0 nohup python run_cub.py --run_hyperparameters --subsets 30 --n_trials 50 --num_workers 2 --pin_memory --non_blocking --hard_bottleneck &> logs/hard_cub_full_grid_search.txt &


# Adversarial
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --run_adversarial_attacks --train_model --epsilon 0.1 --alpha 0.001 --max_images 10 --logging_level debug --num_workers 2 --persistent_workers --pin_memory --non_blocking &> logs/cub_adversarial_attacks.txt &


# Adversarial attacks

# Remote Shapes Adversarial Grid Search
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --adversarial_grid_search --max_steps 800 --max_images 200 &> logs/shapes_adversarial_grid_search.txt &

CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --n_classes 21 --n_attr 9 --adversarial_grid_search --max_steps 800 --max_images 200 &> logs/c21_shapes_adversarial_grid_search.txt &



# CUB Shapes Adversarial Grid Search
CUDA_VISIBLE_DEVICES=1 nohup python run_cub.py --adversarial_grid_search --max_steps 300 --max_images 200 --num_workers 2 --pin_memory --non_blocking &> logs/cub_adversarial_grid_search.txt &



# Shapes run attacks
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --run_adversarial_attack --max_steps 800 --max_images 10000 --grad_weight 0.999 --logging_level debug &> logs/g1_shapes_run_adversarial.txt &

1234 / 3572 = 0.3454 success rate
With grad_weight = 0.999 success_rate=0.3135498320268757


# Shapes run attacks
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --run_adversarial_attack --n_classes 21 --n_attr 9  --max_steps 800 --concept_threshold 0.05 --max_images 10000 --grad_weight 0.999 --logging_level debug &> logs/g1_c21_shapes_run_adversarial.txt &
CUDA_VISIBLE_DEVICES=2 nohup python run_shapes.py --run_adversarial_attack --n_classes 21 --n_attr 9  --max_steps 800 --concept_threshold 0.05 --max_images 10000 --grad_weight -0.1 --logging_level debug &> logs/c21_shapes_run_adversarial.txt &

success rate 0.2662057044079516
with grad_weight 0.999 success_rate=0.2250072025352924


# CUB run attacks
CUDA_VISIBLE_DEVICES=2 nohup python run_cub.py --run_adversarial_attack --max_steps 300 --max_images 10000 --grad_weight 0.999 --num_workers 2 --pin_memory --non_blocking --logging_level debug &> logs/g1_cub_run_adversarial_attack.txt &

/ 2643, success_rate=0.5743473325766175
With grad_weight = 0.999: success_rate=0.16193719258418462




# Local:
Shapes Max Damage:
python run_shapes.py --run_adversarial_attacks --max_images 200 --alpha 0.005 --max_steps 90 --extra_steps 1000 --concept_threshold 0.5 --logging_level debug

Shapes minimal damage
python run_shapes.py --run_adversarial_attacks --max_images 200 --alpha 0.001 --max_steps 200 --extra_steps 2 --concept_threshold 0.3 --logging_level debug --epsilon 0.3

Cub Max Damage:

Cub Minimal Damage:
python run_cub.py --run_adversarial_attacks --logging_level debug --max_images 25 --alpha 0.0001 --epsilon 2 --random_start 0 --max_steps 30 --extra_steps 1 --concept_threshold 0.1

